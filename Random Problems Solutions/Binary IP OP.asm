INCLUDE 'EMU8086.INC'
.MODEL SMALL
.STACK 200H  
 
.DATA
 COUNT DB 0
 
.CODE 
MAIN PROC
    MOV AX, @DATA
    MOV DS, AX
    
   XOR BX,BX
   PRINT "TAKE INPUT: "
   MOV AH,1
   
   FOR1:
   INT 21H
   CMP AL,0DH
   JE END_FOR1
   SUB AL,48
   SHL BX,1
   OR BL,AL
   INC COUNT
   JMP FOR1
   
   END_FOR1:
   PRINTN
   PRINTN "OUTPUT: "
   
   MOV CL,16
   SUB CL,COUNT
   ROL BX,CL
   
   XOR CH,CH
   MOV CL,COUNT ; HOW MANY TIMES WE ARE GOING TO RUN THE LOOP=NO. OF DIGITS
   
   MOV AH,2
   FOR2:
   RCL BX,1; PUSHING MSB TO CARRY
   JC OUTPUT_1
   
   MOV DL,'0'; PRINTING 0 IF CARRY 0
   INT 21H
   JMP LAST_OF_LOOP
   
   OUTPUT_1:
   MOV DL,'1'
   INT 21H
   
   LAST_OF_LOOP:
   LOOP FOR2
   
    
    EXIT:
    
    MOV AH,4CH
    INT 21H  
    MAIN ENDP
ENDP